1. ¸ÅÊö
    ´ËÓ¦ÓÃ¸ùÄ¿Â¼ÏÂµÄbooksÄ¿Â¼´æ·Å×Ô¶¨ÒåRSSÉèÖÃ£¬Ã¿¸öÎÄ¼şÎªÒ»±¾"Êé"£¬¶ÔÓ¦ÍÆËÍµ½kindleµÄÒ»±¾Êé¡£
    Ó¦ÓÃÆô¶¯ºó»á×Ô¶¯¶ÁÈ¡´ËÄ¿Â¼ÏÂµÄËùÓĞpyÎÄ¼ş£¬¶¯Ì¬µ¼Èë£¬²¢ÏÔÊ¾ÔÚÍøÒ³¡°ÎÒµÄ¶©ÔÄ¡±ÏÂ£¬¿ÉÒÔÑ¡ÔñÊÇ·ñÍÆËÍ¡£
    booksÄ¿Â¼ÏÂµÄÎÄ¼ş³ıÁË__init__.pyºÍbase.py£¬ÆäËûµÄÎÄ¼ş¶¼¿ÉÒÔËæÒâÉ¾³ı£¬Èç¹ûÄã²»ĞèÒªµÄ»°¡£
    ÔÚbooksÄ¿Â¼ÏÂÉ¾³ıµÄ¡°Êé¼®¡±»áÔÚÒ»ÌìÄÚ´ÓÊı¾İ¿âÖĞÇå³ı¡£

2. pyÎÄ¼ş¸ñÊ½
  ¡ïpyÎÄ¼ş½¨ÒéÎªUTF-8¸ñÊ½£¬ÌØ±ğÊÇÀïÃæÓĞÖĞÎÄµÄ»°¡£
    ËùÒÔÃ¿¸öpyÎÄ¼şµÄÍ·Ò»ĞĞ½¨ÒéÎª£º
    # -*- coding:utf-8 -*-
    »òÕß£º
    #!/usr/bin/env python
    # -*- coding:utf-8 -*-

  ¡ïÃ¿¸öpyÎÄ¼ş¶¼ÒªÊµÏÖÒ»¸öº¯ÊıgetBook()£¬·µ»ØÊé¼®Êµ¼Ê¶¨ÒåµÄ"Àà"¶ÔÏó£º
    def getBook():
        return Qiushibaike

  ¡ïÃ¿±¾ÊéÎªÒ»¸öÀà£¬±ØĞëÊµÏÖµÄ½Ó¿ÚÖ»ÓĞÒ»¸ö£º
    Items(self, opts=None)
    ËüÊÇÒ»¸öÉú³ÉÆ÷»òÕß·µ»ØÒ»¸öµü´úÆ÷¡£
    Ã¿´Î·µ»ØÒ»¸öÔª×é£º
    HTMLÔª×é£º(½Ú±êÌâ, URL, ÎÄÕÂ±êÌâ, ÎÄÕÂÄÚÈİ£¬ÎÄÕÂÕªÒª)  - ÎÄÕÂÄÚÈİÎª×Ö·û´®
    Í¼Æ¬Ôª×é£º(Í¼Æ¬MIME, URL, Í¼Æ¬ÎÄ¼şÃû, Í¼Æ¬ÄÚÈİ£¬None) -Í¼Æ¬ÄÚÈİÎª×Ö½Ú´®
    ÆäÖĞÍ¼Æ¬MIMEÎª£ºimage/jpeg, image/gif µÈ

  ¡ïÉÏÃæÒÑ¾­ËµÍêÁËÊé¼®¶¨ÒåµÄÒ»ÇĞ£¬ËùÒÔÈç¹ûÄã¾«Í¨python£¬¾Í¿ÉÒÔ×Ô¼ºĞ´×Ô¼ºµÄÊé¼®ÀàÁË¡£
  
  ¡ï²»¹ıÈç¹ûÄãÍµÀÁ£¬Ò²¿ÉÒÔ¼Ì³ĞbaseÄ£¿éÖĞ¶¨ÒåµÄÁ½¸öÊé¼®Ä£°åÖ®Ò»À´¶¨ÖÆ×Ô¼ºµÄÊé¼®Àà¡£
    ÏÂÒ»½Ú½éÉÜÈçºÎ¶¨ÖÆ¡£

3. Êé¼®Àà¶¨ÖÆ·½·¨
   Ğ´¹ı»ò¿´¹ıcalibreµÄrecipeµÄ»ù±¾ÉÏ¾ÍÖ±½Ó»áÁË¡£
   ÒòÎªcalibreµÄrecipeÄ£¿éÒÀÀµÍ¦¶àµÄ£¬ÎÒÊ±¼ä²»¹»£¬ÍµÀÁÁË£¬¾Í²»ÒÆÖ²ÁË£¬Ö±½Ó¸ù¾İ
   recipeµÄÍâĞÎĞ´ÁËÒ»¸ö´¦ÀíÄ£¿é¡£
   ¡ï¸ù¾İRSSÀàĞÍ£¬´ÓbaseÄ£¿éÖĞµ¼Èë²»Í¬µÄÊé¼®»ùÀà
     from base import BaseFeedBook/WebpageBook
     Èç¹ûÄã¸ĞĞËÈ¤µÄÍøÕ¾²»Ìá¹©RSS¶©ÔÄ£¬Ôò¿ÉÒÔ¼Ì³ĞWebpageBookÖ±½ÓÁ¬½ÓÍøÒ³ÌáÈ¡ĞÅÏ¢¡£
   ¡ï×ÓÀàÄÜ¶¨ÖÆµÄ²ÎÊı¶¼ÔÚBaseFeedBookÀàµÄ¶¨ÒåÖĞ£¬×¢ÊÍºÜÏêÏ¸¡£
   ¡ï´¦ÀíHTMLµÄBeautifulSoupÎª4.x°æ±¾¡£

   ÔÚ´ËÌù×ÓÀïÓĞ¸üÏêÏ¸µÄËµÃ÷£ºhttp://www.hi-pda.com/forum/viewthread.php?tid=1248204

#Changelog for KindleEar

##1.20.2
  1. é’ˆå¯¹ä½¿ç”¨å›¾ç‰‡å»¶è¿ŸåŠ è½½æŠ€æœ¯çš„ç½‘é¡µç‰¹æ®Šå¤„ç†ï¼Œå¯ä»¥è·å–éƒ¨åˆ†æ­¤ç±»ç½‘é¡µçš„å›¾ç‰‡ã€‚

##1.20.2
  1. Supports some webpage which images take a 'data-src' attribute to load asynchronous content.
  
##1.20.1
  1. æ–°ç‰¹æ€§ï¼Œåœ¨åˆå¹¶æ¨é€æ—¶å°†å„ä¹¦ç±çš„å°é¢æ‹¼è´´èµ·æ¥ã€‚é»˜è®¤å·²ç»å¼€å¯ï¼Œå¦‚æœä½ ä½¿ç”¨ä»¥å‰çš„config.pyï¼Œè¯·è®¾ç½®DEFAULT_COVER_BV=Noneï¼Œå¦‚æœä¸å–œæ¬¢æ­¤æ•ˆæœï¼Œå¯ä»¥è®¾ç½®DEFAULT_COVER_BV='cv_bound.jpg'
  2. bugfix: ä¿®æ­£ä¿å­˜åˆ°evernoteä¸æˆåŠŸçš„é—®é¢˜ï¼ˆ1.13å¼•å…¥ï¼‰
  
##1.20.1
  1. Paste all covers into one when merge books into one. DEFAULT_COVER_BV=None (default value) to enable the feature.
  2. bugfix: send mail to evernote failed. (bug from version 1.13)
  
##1.20
  1. å¢åŠ ä¸€ä¸ªç®€å•çš„æ­£æ–‡æå–æ¨¡å—ï¼Œåœ¨readabilityå¤±è´¥åå¯ç”¨ã€‚
  2. å¢å¼ºçš„ç½‘é¡µè§£ç å™¨ï¼Œç»¼åˆè€ƒè™‘httpå“åº”å¤´/htmlæ–‡ä»¶å¤´/chardetæ£€æµ‹ç»“æœï¼Œæ•ˆç‡æ›´é«˜ï¼Œä¹±ç æ›´å°‘ã€‚
  3. æ”¯æŒéœ€è¦ç™»é™†æ‰èƒ½æŸ¥çœ‹æ–‡ç« çš„ç½‘ç«™ï¼Œè¯·å‚ç…§FAQå¦‚ä½•ä½¿ç”¨ã€‚
  4. é’ˆå¯¹ä¸€å¤©æ¨é€å¤šæ¬¡çš„éœ€æ±‚ï¼Œä¹¦ç±å±æ€§â€˜oldest_articleâ€™å¤§äº365åˆ™ä½¿ç”¨*ç§’*ä¸ºå•ä½ã€‚
  5. å¢å¼ºçš„å¯†ç å®‰å…¨ï¼ŒåŠ saltç„¶åmd5ï¼Œæ— æ³•é€šè¿‡å¯†ç è¯å…¸ç ´è§£ï¼Œåœ¨å¯æ¥å—çš„ä»£ä»·èŒƒå›´å†…æ— æ³•æš´åŠ›ç ´è§£ã€‚
    ï¼ˆä»…æ–°è´¦å·å¯ç”¨ï¼Œå¦‚æœéœ€è¦å¯ä»¥åˆ æ‰adminç„¶åé‡æ–°ç™»é™†å°±ä¼šæ–°å»ºadminè´¦å·ï¼‰
  6. æ•´ç†æ–‡ä»¶å¤¹ç»“æ„ï¼Œå°†ç›¸å…³åº“éƒ½æ”¾åˆ°libç›®å½•ä¸‹ã€‚
  7. å…¶ä»–ä¸€äº›å°çš„å¯ç”¨æ€§å¢å¼ºã€‚
  > å‡çº§æ³¨æ„:ä¹¦ç±çš„fetcharticle()å¢åŠ äº†ä¸€ä¸ªå‚æ•°ï¼Œå¦‚æœä½ å®šåˆ¶çš„ä¹¦ç±ä½¿ç”¨åˆ°æ­¤æ¥å£ï¼Œéœ€è¦ä¿®æ”¹ã€‚
##1.20
  1. a new simple algorithm to extract content of webpage when module readability failed.
  2. a new enhanced decoder for webpage which detection algorithm includes more parameters:
    http response header, meta of html, result of chardet.
  3. support site that need subscription, refers to FAQ for more detail.
  4. use *second* as unit when value of property 'oldest_article' of book more than 365.
  5. Enhanced password encryption with salt, more safe when face a brute force attack.
    (for new account only, you can delete account admin and login again for enjoy it.)
  6. neaten folder structure, put all libs into folder 'lib'.
  7. some minor improves for usability.
  > Note:interface fetcharticle() in base.py modified (a new parameter added), if your book implemented it, please modify it to work.

ï»¿Readme of english version refers to Readme_EN.txt

#ç®€ä»‹
è¿™æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨Google App Engine(GAE)ä¸Šçš„Kindleä¸ªäººæ¨é€æœåŠ¡å™¨ï¼Œç”Ÿæˆæ’ç‰ˆç²¾ç¾çš„æ‚å¿—æ¨¡å¼MOBIæ ¼å¼è‡ªåŠ¨æ¯å¤©æ¨é€è‡³æ‚¨çš„kindleï¼Œ

æ­¤ç½‘ç«™åº”ç”¨ç›®å‰çš„åŠŸèƒ½æœ‰ï¼š

1. æ”¯æŒç±»ä¼¼calibreçš„recipeæ ¼å¼çš„è‡ªå®šä¹‰RSSæ”¶é›†ï¼Œéœ€è¦å†™ä»£ç ï¼Œéœ€è¦æœ‰ä¸€ç‚¹ç‚¹pythonåŸºç¡€
2. è‡ªå®šä¹‰RSSï¼Œä¸éœ€è¦pythonåŸºç¡€ï¼Œç›´æ¥è¾“å…¥RSSé“¾æ¥å’Œæ ‡é¢˜å³å¯è‡ªåŠ¨æ¨é€
3. å¤šè´¦å·ç®¡ç†ï¼Œä¹Ÿå°±æ˜¯æ”¯æŒå¤škindle
4. å¸¦å›¾çš„æ‚å¿—æ ¼å¼MOBI
5. è‡ªåŠ¨æ¯å¤©å®šæ—¶æ¨é€
6. å¼ºå¤§è€Œä¸”æ–¹ä¾¿çš„é‚®ä»¶ä¸­è½¬æœåŠ¡

> æ³¨ï¼šå¦‚æœæ‚¨è¦æ±‚ä¸é«˜ï¼Œè‡ªå®šä¹‰RSSæ¨é€åŠŸèƒ½èƒ½åº”ä»˜ä¸€èˆ¬åº”ç”¨ï¼Œå¦‚æœè¦æ±‚æ’ç‰ˆå’Œå®Œç¾ï¼Œå¯ä»¥å‚ç…§booksç›®å½•ä¸‹çš„æ–‡ä»¶è‡ªå·±å¢åŠ ä¸€ä¸ªæ–‡ä»¶ï¼Œ
åœ¨æ‚¨æ‡‚pythonçš„å‰æä¸‹ï¼Œæ‚¨å¯ä»¥å®Œå…¨çš„æ“æ§ç½‘é¡µï¼Œå¯ä»¥ç”Ÿæˆæ‚¨éœ€è¦çš„æœ€å®Œç¾çš„MOBIæ–‡ä»¶ã€‚

#éƒ¨ç½²æ­¥éª¤
1. ç”³è¯·GAEè´¦å·å¹¶åˆ›å»ºä¸€ä¸ªapplicationã€‚ <https://appengine.google.com/>
2. ä¸‹è½½GAE SDKã€‚ <https://developers.google.com/appengine/downloads?hl=zh-CN>
3. å®‰è£…Python 2.7 å¦‚æœå·²ç»å®‰è£…äº†ï¼Œè·³è¿‡æ­¤æ­¥éª¤
4. ä¸‹è½½æœ¬åº”ç”¨çš„æ‰€æœ‰æ–‡ä»¶ï¼Œæ”¾åˆ°ä¸€ä¸ªç‰¹å®šçš„ç›®å½•ã€‚
5. ä¿®æ”¹app.yaml/module-worker.yamlçš„ç¬¬ä¸€è¡Œï¼šå°†kindleearä¿®æ”¹ä¸ºä½ ç”³è¯·çš„applicationåå­—
6. ä¿®æ”¹config.pyä¸­çš„è¿™å‡ ä¸ªå˜é‡
   SRC_EMAIL ï¼šä½ ç”³è¯·GAEè´¦å·æ—¶çš„GMAILé‚®ç®±
   DOMAIN ï¼šä½ ç”³è¯·çš„åº”ç”¨çš„åŸŸå
7. è½¬åˆ°GAE SDKå®‰è£…ç›®å½•ï¼ˆé»˜è®¤ä¸ºï¼šC:\Program Files\Google\google_appengineï¼‰
   æ‰§è¡ŒCMDå‘½ä»¤ï¼š
   `c:\python27\python.exe appcfg.py update kindleearç›®å½•\app.yaml kindleearç›®å½•\module-worker.yaml`
   <br />æ¯”å¦‚ï¼š<br />
   `c:\python27\python.exe appcfg.py update c:\kindleear\app.yaml c:\kindleear\module-worker.yaml`
   <br />ä¾æ¬¡è¾“å…¥é‚®ç®±å’Œå¯†ç ï¼Œç­‰ç»“æŸåå°±å¯ä»¥æ‰“å¼€åŸŸåï¼š
   app_name.appspot.com (app_nameæ˜¯ä½ ç”³è¯·çš„applicationåå­—)
   æ¯”å¦‚ä½œè€…çš„ç½‘ç«™åŸŸåä¸ºï¼škindleear.appspot.com
   å¼€å§‹æ‚¨çš„ä¸ªäººæ¨é€æœåŠ¡äº†ã€‚
   æ³¨ï¼šåˆå§‹ç”¨æˆ·ä¸ºadminï¼Œå¯†ç ä¸ºadminï¼Œå»ºè®®ç™»é™†ååŠæ—¶ä¿®æ”¹å¯†ç ã€‚
8. æ›´è¯¦ç»†ä¸€ç‚¹çš„è¯´æ˜è¯·å‚ç…§FAQã€‚
9. æˆ–è€…å¦‚æœä½ ä¸æƒ³å®‰è£…pythonå’ŒGAE SDKï¼Œå¯ä»¥ä¸‹è½½æ­¤uploaderï¼Œå°†kindleearä¸‹è½½åä¸éœ€è¦ä¿®æ”¹ä»€ä¹ˆï¼Œ
   è§£å‹åå°†ç›®å½•æ”¹åä¸ºkindleearï¼Œæ”¾åˆ°uploaderç›®å½•ä¸‹ï¼Œ
   åŒå‡»uploader.batå³å¯ä¸Šä¼ ã€‚
   <https://drive.google.com/folderview?id=0ByRickMo9V_XNlJITzhYM3JOYW8&usp=sharing>
   å¦‚æœä¸Šé¢çš„åœ°å€è¢«å¢™ï¼Œå¯ä»¥ä½¿ç”¨å¤‡ä»½çš„å¢™å†…åœ°å€ï¼š
   <http://yunpan.cn/QGiHjKRZ6EreW> ï¼ˆè®¿é—®å¯†ç ï¼šbeaaï¼‰

#è®¸å¯
KindleEar is Licensed under the GPL license: [http://www.gnu.org/licenses/gpl.html](http://www.gnu.org/licenses/gpl.html)
å¤§ä½“çš„è®¸å¯æ¡†æ¶æ˜¯æ­¤åº”ç”¨ä»£ç ä½ å¯ä»¥ä»»æ„ä½¿ç”¨ä»»æ„ä¿®æ”¹ï¼Œå¯ä»¥å•†ç”¨ï¼Œä½†æ˜¯ä¹Ÿå¿…é¡»å¼€æºå¹¶ä¿ç•™ç‰ˆæƒå£°æ˜ã€‚

ï»¿1. KindleEar is a web application to aggregate rss for generating periodical mobi file with images 
   and send it to your kindle automatically.
   The features:
   1.Support calibre-like recipe file to aggress RSS.
   2.Support custom rss, input title and url to deliver, dont need to program.
   3.With account management, support several kindles in a application.
   4.Generate periodical mobi file with images.
   5.Deliver news feeds to your kindle automatically.
   6.website support multi-languages.

2. Deployment step by step
   1.Register a GAE account and create a application : https://appengine.google.com/
   2.Download GAE SDK and install: https://developers.google.com/appengine/downloads
   3.Install Python 2.7.x
   4.Download all files of this application and uncompress it into a directory for example: c:\kindleear.
   5.Modify the first line in app.yaml, change kindleear to name of application that you create in step 1.
   6.Modify some variables in config.py
      SRC_EMAIL : your gmail address that used to register a GAE account in step 1.
      DOMAIN : domain of your gae application.
      TIMEZONE : your timezone
   7.Execute command in directory GAE SDK(default is C:\Program Files\Google\google_appengine)
      'c:\python27\python.exe appcfg.py update c:\kindleear' (c:\kindleear is directory that you put files in step 4)
      input email address and password and wait it finish.
      after finished, you can open the website 'appid.appspot.com' (appid is name of your application)
      for example author's site: kindleear.appspot.com
      the initial username is 'admin', password is 'admin', please change it immediately after login.
   8.more details can be found in faq.
   9.If you don't want to intall GAE SDK and python, you have another choice, download 'uploader' from:
     https://drive.google.com/folderview?id=0ByRickMo9V_XNlJITzhYM3JOYW8&usp=sharing
     put kindleear folder into uploader directory, then double-click uploader.bat.
  
3. License
   KindleEar is Licensed under the GPL license: http://www.gnu.org/licenses/gpl.html
